# Chineye AI - Full-Stack Chatbot Application

A modern full-stack chatbot web application with JWT authentication, real-time messaging, and chat history.

## âš¡ Quick Start (5 minutes)

### Prerequisites
- Python 3.8+ installed
- A Supabase account (free at https://supabase.com)

### 1. Get Your Supabase Credentials
- Create a Supabase project
- Go to Settings â†’ API
- Copy your **Project URL** and **Anon Key**

### 2. Set Up Backend
```bash
cd backend
cp .env.example .env
# Edit .env and add your Supabase credentials
pip install -r requirements.txt
python -m uvicorn main:app --reload
```

### 3. Set Up Frontend
```bash
cd frontend
python -m http.server 3000
```

### 4. Open in Browser
Visit: **http://localhost:3000**

âœ… **Done!** Sign up and start chatting!

## ğŸš€ Tech Stack

- **Frontend:** HTML5, CSS3, Vanilla JavaScript
- **Backend:** Python FastAPI
- **Database:** Supabase (Serverless PostgreSQL)
- **Authentication:** JWT (JSON Web Tokens)
- **Deployment:** Vercel/Netlify (Frontend), Render/Railway (Backend)

## ğŸ“ Project Structure

```
chineye-ai/
â”œâ”€â”€ frontend/
â”‚   â”œâ”€â”€ index.html          # Landing page
â”‚   â”œâ”€â”€ signup.html         # Signup page
â”‚   â”œâ”€â”€ login.html          # Login page
â”‚   â”œâ”€â”€ chat.html           # Chat interface
â”‚   â”œâ”€â”€ style.css           # Styling
â”‚   â””â”€â”€ app.js              # Frontend logic
â”‚
â”œâ”€â”€ backend/
â”‚   â”œâ”€â”€ main.py             # FastAPI server & routes
â”‚   â”œâ”€â”€ auth.py             # JWT & password hashing
â”‚   â”œâ”€â”€ database.py         # Supabase integration
â”‚   â”œâ”€â”€ chatbot.py          # Chatbot logic
â”‚   â”œâ”€â”€ models.py           # Pydantic models
â”‚   â”œâ”€â”€ requirements.txt    # Python dependencies
â”‚   â””â”€â”€ .env.example        # Environment variables template
â”‚
â””â”€â”€ README.md               # This file
```

## âš™ï¸ Setup Instructions

### Prerequisites

- Python 3.8+ (for backend)
- Node.js (optional, for frontend deployment)
- Supabase account (free tier available)

### Backend Setup

1. **Clone/Navigate to backend directory:**
```bash
cd backend
```

2. **Create a virtual environment:**
```bash
python -m venv venv
```

3. **Activate virtual environment:**

**Windows:**
```bash
venv\Scripts\activate
```

**macOS/Linux:**
```bash
source venv/bin/activate
```

4. **Install dependencies:**
```bash
pip install -r requirements.txt
```

5. **Set up environment variables:**
```bash
cp .env.example .env
```

Edit `.env` and add your Supabase credentials:
```
SUPABASE_URL=https://your-project.supabase.co
SUPABASE_KEY=your-anon-key
SECRET_KEY=your-secret-key-here
PORT=8000
```

### Supabase Setup

1. **Create a Supabase project at https://supabase.com**

2. **Create the `users` table:**
```sql
CREATE TABLE users (
  id UUID PRIMARY KEY DEFAULT gen_random_uuid(),
  email VARCHAR UNIQUE NOT NULL,
  username VARCHAR UNIQUE NOT NULL,
  password_hash TEXT NOT NULL,
  created_at TIMESTAMP DEFAULT NOW()
);
```

3. **Create the `chat_history` table:**
```sql
CREATE TABLE chat_history (
  id BIGINT GENERATED BY DEFAULT AS IDENTITY PRIMARY KEY,
  user_id UUID REFERENCES users(id) ON DELETE CASCADE,
  message TEXT NOT NULL,
  response TEXT NOT NULL,
  timestamp TIMESTAMP DEFAULT NOW()
);
```

4. **Get your Supabase credentials:**
   - Go to Settings â†’ API
   - Copy your Project URL and Anon Key
   - Paste them in your `.env` file

### Frontend Setup

1. **Navigate to frontend directory:**
```bash
cd frontend
```

2. **Update API URL in `app.js`:**
```javascript
// Change this line:
const API_BASE_URL = 'http://localhost:8000/api';

// To your production backend URL when deploying:
const API_BASE_URL = 'https://your-backend-url.com/api';
```

3. **For local development:**
   - Open `index.html` in a web browser, or
   - Use a local server:
   ```bash
   # Using Python
   python -m http.server 3000
   
   # Or using Node.js
   npx http-server -p 3000
   ```

## ğŸš€ Running the Application

### Quick Start (Recommended)

You need **two terminal windows** - one for backend, one for frontend.

#### Terminal 1: Start Backend Server

```bash
cd backend
python -m uvicorn main:app --reload
```

**Expected output:**
```
INFO:     Uvicorn running on http://127.0.0.1:8000 (Press CTRL+C to quit)
INFO:     Started server process
INFO:     Application startup complete.
```

âœ… Backend will run at: **http://localhost:8000**
ğŸ“š API Documentation: **http://localhost:8000/docs**

#### Terminal 2: Start Frontend Server

Open a **new terminal** and run:

```bash
cd frontend
python -m http.server 3000
```

**Expected output:**
```
Serving HTTP on :: port 3000 (http://[::]:3000/) ...
```

âœ… Frontend will run at: **http://localhost:3000**

### Access Your Application

1. Open your browser and visit: **http://localhost:3000**
2. You should see the Chineye AI landing page
3. Click "Sign Up" to create an account
4. Log in and start chatting!

### Stopping the Servers

- **Backend:** Press `CTRL+C` in the backend terminal
- **Frontend:** Press `CTRL+C` in the frontend terminal

### Troubleshooting

**Port Already in Use (Error: Address already in use)**

**Windows:**
```bash
netstat -ano | findstr :8000
taskkill /PID <PID> /F

netstat -ano | findstr :3000
taskkill /PID <PID> /F
```

**macOS/Linux:**
```bash
lsof -i :8000
kill -9 <PID>

lsof -i :3000
kill -9 <PID>
```

**CORS Errors in Browser Console**

- Hard refresh the page: `Ctrl+Shift+R` (Windows/Linux) or `Cmd+Shift+R` (macOS)
- Clear browser cache and cookies
- Ensure both servers are running

**Backend Import Errors**

Make sure you're in the `backend` directory and have installed dependencies:
```bash
cd backend
pip install -r requirements.txt
python -m uvicorn main:app --reload
```

## ğŸ”Œ API Endpoints

### Authentication

**POST /api/signup**
- Create a new user account
- Request: `{ username, email, password }`
- Response: `{ message, email }`

**POST /api/login**
- Authenticate user and get JWT token
- Request: `{ email, password }`
- Response: `{ access_token, token_type, username }`

### Chat

**POST /api/send-message**
- Send a message to the chatbot
- Headers: `Authorization: Bearer <token>`
- Request: `{ message }`
- Response: `{ message, response }`

**GET /api/history**
- Get chat history for current user
- Headers: `Authorization: Bearer <token>`
- Response: `{ history: [{message, response, timestamp}] }`

**POST /api/logout**
- Logout endpoint
- Headers: `Authorization: Bearer <token>`
- Response: `{ message, username }`

### Health Check

**GET /health**
- Check if API is running
- Response: `{ status, service }`

## ğŸŒ Deployment

### Before Deployment

1. **Update SECRET_KEY** in `backend/.env`:
   ```
   SECRET_KEY=your-super-secret-key-generate-something-random
   ```

2. **Update CORS origins** in `backend/main.py`:
   ```python
   allow_origins=["https://your-domain.com", "https://www.your-domain.com"],
   ```

3. **Update Frontend API URL** in `frontend/app.js`:
   ```javascript
   const API_BASE_URL = 'https://your-backend-url.com/api';
   ```

### Frontend Deployment (Vercel)

1. Push your entire project to GitHub
2. Go to https://vercel.com and connect your repository
3. Select "Other" as the framework
4. Set root directory to `./frontend`
5. No build command needed (static files)
6. Deploy!

**After deployment, update `frontend/app.js` with your backend URL.**

### Backend Deployment (Render)

1. Push your entire project to GitHub
2. Go to https://render.com and create a **New Web Service**
3. Connect your GitHub repository
4. Fill in these settings:
   - **Name:** `chineye-ai-api`
   - **Root Directory:** `backend`
   - **Runtime:** `Python 3`
   - **Build Command:** `pip install -r requirements.txt`
   - **Start Command:** `uvicorn main:app --host 0.0.0.0`

5. Add **Environment Variables:**
   ```
   SUPABASE_URL=https://your-project.supabase.co
   SUPABASE_KEY=your-anon-key
   SECRET_KEY=your-secret-key
   PORT=8000
   ```

6. Click **Create Web Service** and wait for deployment

**After deployment, get your backend URL (e.g., `https://chineye-ai-api.onrender.com`) and update it in `frontend/app.js`.**

### Alternative Backend Hosting (Railway)

1. Go to https://railway.app
2. Click "Start a New Project" â†’ "Deploy from GitHub"
3. Select your repository
4. Add `backend` as the root directory
5. Add environment variables (same as Render)
6. Deploy!

### Alternative Frontend Hosting (Netlify)

1. Go to https://netlify.com
2. Connect your GitHub repository
3. Set build command to empty (or just use the files as-is)
4. Set publish directory to `frontend`
5. Add environment variable: `API_URL=https://your-backend-url.com/api`
6. Deploy!

## ğŸ” Security Features

- âœ… Password hashing with bcrypt
- âœ… JWT token-based authentication
- âœ… CORS enabled for cross-origin requests
- âœ… Input validation with Pydantic
- âœ… Protected API endpoints
- âœ… Secure environment variables

## ğŸ“ Features

- âœ… User registration and login
- âœ… JWT-based authentication
- âœ… Real-time chat interface
- âœ… Chat history persistence
- âœ… Responsive dark mode design
- âœ… Auto-scrolling chat messages
- âœ… Token management in localStorage
- âœ… Clean and modern UI

## ğŸ¤– Chatbot Logic

The chatbot in `chatbot.py` includes pattern matching for:
- Greetings (hello, hi, hey)
- Goodbyes (bye, goodbye, farewell)
- Status checks (how are you, what's up)
- Help requests
- User queries
- And more...

Expand the `chatbot_response()` function to add more patterns and responses!

## ğŸ› Troubleshooting

### CORS Errors
- Ensure backend is running with CORS enabled
- Check that frontend is using correct API URL

### Authentication Fails
- Verify `.env` variables are set correctly
- Check that Supabase tables exist
- Ensure SECRET_KEY is properly configured

### Database Connection Errors
- Verify Supabase URL and Key
- Check internet connection
- Ensure database tables are created

### Port Already in Use
```bash
# Windows
netstat -ano | findstr :8000
taskkill /PID <PID> /F

# macOS/Linux
lsof -i :8000
kill -9 <PID>
```

## ğŸ“š Documentation

- [FastAPI Docs](https://fastapi.tiangolo.com/)
- [Supabase Docs](https://supabase.com/docs)
- [JWT.io](https://jwt.io/)
- [Pydantic](https://pydantic-settings.tiangolo.com/)

## ğŸ“„ License

This project is open source and available under the MIT License.

## ğŸ¤ Contributing

Contributions are welcome! Feel free to submit issues and pull requests.

## ğŸ“ Support

For issues or questions, please create an issue on the repository.

---

**Happy coding! ğŸš€**
